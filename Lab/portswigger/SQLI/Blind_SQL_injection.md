# [Lab: Blind SQL injection with conditional responses](#lab1)
# [Lab: Blind SQL injection with conditional errors](#lab2)
# Lab: Blind SQL injection with conditional responses <a name="lab1">
  Lab này cung cấp cho một số thông tin:
  - Table: users có column username và password
  - Lab có sử dụng truy vấn SQL quản lý các giá trị cookie
  - Yêu cầu chúng ta phải tìm password của user administrator và dùng tài khoản đó login
  - Nếu kết quả câu truy vấn SQL không trả về thì chúng ta không dòng Welcome back! còn nếu kết quả câu truy vấn được trả về sẽ có dòng Welcome back!<br>
  Ở đây có 2 cookie:
  ![image](https://user-images.githubusercontent.com/20487674/122682164-09cbbc00-d222-11eb-83de-6adac2b49d96.png)
  Thực hiện fuzzing 2 cookie đó sau khi test cookie thứ nhất thì không thấy dấu hiệu gì khi f5 lại thì giá trị bị thay đổi tiếp đến cookie thứ hai<br>
  Thử với điều kiện đúng
  ![image](https://user-images.githubusercontent.com/20487674/122682336-f66d2080-d222-11eb-8904-e2d3df243c06.png)<br>
  Thử với điều kiện sai thì mất chữ Welcome back!
  ![image](https://user-images.githubusercontent.com/20487674/122682377-25839200-d223-11eb-9ad9-5bf35c650a65.png)<br>
  Với các thông tin mà lab cung cấp mình có viết script python để dump password:
  ![image](https://user-images.githubusercontent.com/20487674/122682901-400b3a80-d226-11eb-857b-715b060cc7dc.png)
# Lab: Blind SQL injection with conditional errors <a name="lab2">
  Thì lab này cũng cung cấp một thông tin như ở lab trước ,nhưng ở lab thì sẽ không có dấu hiệu  Welcome back! như lab trước nữa.Lab này endpoint thì vẫn giữ nguyên là TrackingId và lab này kêu mình tạo các điều kiện khiến dbms phải show ra thông báo lỗi<br>
  Bắt đầu thử fuzzing boolean lại thử xem , dù điều kiện boolean sai hay đúng gì vẫn như bình thường 
  ![image](https://user-images.githubusercontent.com/20487674/123667017-ef1dc680-d863-11eb-999c-bf7a4678663c.png)![image](https://user-images.githubusercontent.com/20487674/123667226-268c7300-d864-11eb-801c-69e757545152.png)<br>
  Tiếp theo sử dụng các function để xác định dbms<br>
  MYSQL và SQL Server dùng char(number ascii) chuyển từ ascii sang ký tự <br>
  ![image](https://user-images.githubusercontent.com/20487674/123670345-52f5be80-d867-11eb-9df7-6ad809043c94.png)
  
  PostgreSQL và Oracle dùng chr(number ascii) chuyển từ ascii sang ký tự <br>
  Test thử Postgresql<br>
  ![image](https://user-images.githubusercontent.com/20487674/123670648-a0722b80-d867-11eb-814d-9ee24832b13a.png)

  Riêng Oracle nhớ luôn có table dual và từ đây xác định web này dbms Oracle
  ![image](https://user-images.githubusercontent.com/20487674/123670887-e29b6d00-d867-11eb-8a00-d2d4e1efcbd6.png)<br>
  Điều kiện lỗi , do hàm chr(number) bắt đầu từ số từ 0 -> 255.Bây giờ sẽ ép cho dbms show lỗi chr(-1)
  ![image](https://user-images.githubusercontent.com/20487674/123671471-838a2800-d868-11eb-9edf-8b23fe2af4a5.png)<br>
  
  Tới đây mình sẽ build một payload sử dụng Searched CASE trong Oracle<br>
  ![image](https://user-images.githubusercontent.com/20487674/123676265-e7fbb600-d86d-11eb-8456-38510a9539cd.png)<br>
  Giải thích chút về payload
  ![image](https://user-images.githubusercontent.com/20487674/123676847-a28bb880-d86e-11eb-9ce6-824b5d6a8d5d.png)<br>
  Tới thì build script python chạy cho lẹ <br>
  ![image](https://user-images.githubusercontent.com/20487674/123678897-17f88880-d871-11eb-862e-3602fec0c89d.png)<br>
  Login và hoàn thành lab <br>
  ![image](https://user-images.githubusercontent.com/20487674/123679145-5ee67e00-d871-11eb-8d62-ad796eedbcf3.png)
  ![image](https://user-images.githubusercontent.com/20487674/123679232-79b8f280-d871-11eb-93e8-06e8a3ff90bf.png)



  
  


  
  
  
  


  
  
  




  

  
