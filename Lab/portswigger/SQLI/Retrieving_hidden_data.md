# Lab: SQL injection vulnerability in WHERE clause allowing retrieval of hidden data
Bước đầu vô thử link: https://acf51f9b1e089c898006de1f006f00ed.web-security-academy.net/filter?category=Accessories
Có 3 tấm ảnh
![image](https://user-images.githubusercontent.com/20487674/122630707-09cb9f00-d0f0-11eb-8696-065c5d6d9d4c.png)<br>
Tiến hành fuzzing thử với payload: "--+- Không có tấm nào 😱😱😱
![image](https://user-images.githubusercontent.com/20487674/122630747-50b99480-d0f0-11eb-870f-796103a72fff.png)<br>
Tiếp tục thử payload '--+- có 4 tấm
![image](https://user-images.githubusercontent.com/20487674/122630784-937b6c80-d0f0-11eb-8973-210e8475ccfc.png)<br>
Thử payload '+and+3*3>8--+- kèm theo điều kiện đúng thì có 4 tấm
![image](https://user-images.githubusercontent.com/20487674/122630806-dfc6ac80-d0f0-11eb-9763-60c4b1488dce.png)<br>
Thử payload '+and+3*3<8--+- kèm theo điều kiện đúng thì không có tấm nào
![image](https://user-images.githubusercontent.com/20487674/122630844-22888480-d0f1-11eb-9175-116a0e570ade.png)<br>
Thì lab này yêu cầu chúng ta làm thế nào để hiển tất cả dữ liệu
Lab này có sử dụng các truy vấn SQL trên xuất dữ liệu SELECT * FROM products WHERE category = 'Gifts' AND released = 1<br>
Thì từ đây có ta xây dựng payload để injection vào parameter category= <br>
Payload: -Accessories'+or+length('aa')>1--
Thì câu truy vấn sẽ như thế này SELECT * FROM products WHERE category = '-Accessories'+or+length('aa')>1--' AND released = 1
Nếu nó không tìm thấy products thuộc category = '-Accessories' thì nó xét tới length('aa')>1 nếu độ dài chuỗi aa đó lớn 1 thì sẽ truy xuất dữ liệu do sử dụng logical operators OR 
nên chỉ cần 1 trong 2 điều kiện đúng là được
![image](https://user-images.githubusercontent.com/20487674/122631086-17ceef00-d0f3-11eb-9b01-6ee589e3a1c6.png)








