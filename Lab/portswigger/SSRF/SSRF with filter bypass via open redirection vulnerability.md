# Lab: SSRF with filter bypass via open redirection vulnerability
* Lab này trường hợp tấn công ssrf thông qua redirect ,  cung cấp cho chúng ta đường dẫn http://192.168.0.12:8080/admin để truy cập vào admin và user carlos
* Bắt đầu tìm endpoint thui thấy stockApi= như value chỉ có path <br>
![image](https://user-images.githubusercontent.com/20487674/124785904-77d9e800-df71-11eb-8fb6-dc1028dd72b4.png)
![image](https://user-images.githubusercontent.com/20487674/124785810-61339100-df71-11eb-8864-6362f8ad2720.png)
* Thử lấy path này gắn vào url xem thử , thì ra path của url hiện tại
![image](https://user-images.githubusercontent.com/20487674/124786260-c5565500-df71-11eb-85b8-6dd2b9ca1b84.png)
* View-source xem thử <br>
![image](https://user-images.githubusercontent.com/20487674/124786680-1cf4c080-df72-11eb-8588-2761e82cab19.png)
* Lấy path này nối url thử thì ra nó redirect 
![image](https://user-images.githubusercontent.com/20487674/124787454-b15f2300-df72-11eb-8b58-7b0760a809eb.png)
* Thử thay path=//google.com/
![image](https://user-images.githubusercontent.com/20487674/124790484-6561ad80-df75-11eb-8e0e-9efeb2747a2a.png)
* Nhấn Follow redirect tiếp thử 
![image](https://user-images.githubusercontent.com/20487674/124790727-9b069680-df75-11eb-8bad-51325ebded60.png)
* Redirect sang url google.com
![image](https://user-images.githubusercontent.com/20487674/124790879-bf627300-df75-11eb-90eb-549df56c3dde.png)
* Vậy tiếp theo thử path=//192.168.0.12:8080/admin 
![image](https://user-images.githubusercontent.com/20487674/124791229-123c2a80-df76-11eb-99bb-e54656cdce85.png)
![image](https://user-images.githubusercontent.com/20487674/124791303-24b66400-df76-11eb-9a5f-f21056454520.png)
* Vẫn redirect như thấy phản hồi do 192.168.0.12:8080/admin nằm trong hệ thống cục bộ mới được quyền truy cập
* Quay lại stockApi= thử gửi request đến 192.168.0.12:8080/admin,payload: /product/nextProduct?currentProductId=3&path=//192.168.0.12:8080/admin nhớ encode url lại
![image](https://user-images.githubusercontent.com/20487674/124792095-dfdefd00-df76-11eb-9db3-55bdb9c89ba9.png)
![image](https://user-images.githubusercontent.com/20487674/124792246-07ce6080-df77-11eb-9e52-a65836e5648c.png)
* Triển thui xóa user carlos, payload: /product/nextProduct?currentProductId=3&path=//192.168.0.12:8080/admin/delete?username=carlos (nhớ encode url lại)
![image](https://user-images.githubusercontent.com/20487674/124792685-6d225180-df77-11eb-96e4-17b5b95129b4.png)




